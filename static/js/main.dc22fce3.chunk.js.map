{"version":3,"sources":["tree/elbow/LinkVerticalElbow.js","tree/elbow/LinkHorizontalElbow.js","tree/Link.tsx","tree/utils.ts","tree/Links.tsx","tree/Node.tsx","tree/Nodes.tsx","tree/Tree.tsx","tree/data.ts","tree/ScaledTree.tsx","tree/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["LinkVerticalElbow","_ref","className","innerRef","data","_ref$x","before","after","x","d","_ref$y","y","restProps","Object","objectWithoutProperties","react_default","a","createElement","assign","ref","cx","source","target","b","Math","abs","tan","PI","c","sqrt","pow","concat","line","Link","props","LinkComponent","linkType","layout","orientation","stepPercent","LinkRadialStep","LinkRadialCurve","LinkRadialLine","LinkRadial","LinkVerticalStep","LinkVerticalCurve","LinkVerticalLine","LinkVertical","LinkHorizontalStep","LinkHorizontalCurve","LinkHorizontalLine","LinkHorizontalElbow","LinkHorizontal","percent","stroke","strokeWidth","fill","findCollapsedParent","node","isExpanded","parent","getTopLeft","_pointRadial","pointRadial","_pointRadial2","slicedToArray","radialX","top","left","depth","renderWidth","renderHeight","Links","links","es","keyAccessor","i","id","start","x0","y0","enter","_ref2","update","_ref3","leave","_ref4","collapsedParent","console","log","nodes","vx_group_es","map","_ref5","key","state","tree_Link","rectOffset","Node","children","onNodeClick","onNodeDoubleClick","onNodeHover","onNodeMouseEnter","onNodeMouseLeave","operations","_useState","useState","undefined","_useState2","rect","setRect","width","height","refCallback","useRef","useLayoutEffect","current","elementRect","getBoundingClientRect","events","React","useMemo","ev","ops","stopPropagation","expandNode","react","r","onClick","e","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave","strokeDasharray","strokeOpacity","rx","dy","fontSize","fontFamily","textAnchor","style","pointerEvents","name","NodesMove","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","prioritizedData","renderRects","compareRects","newRenderRects","length","toConsumableArray","forceUpdate","prevProps","_this2","_this$props","nodeChildren","NodeGroup_default","parentTopLeft","opacity","topLeft","collapsedParentPrevPos","objectSpread","sort","Number","selected","tree_Node","Component","TreeView","_props$margin","margin","right","bottom","addNode","removeNode","_React$useState3","_React$useState4","setlayout","_React$useState5","_React$useState6","setOrientation","_React$useState7","_React$useState8","setLinkType","_React$useState9","_React$useState10","setStepPercent","_React$useState11","_React$useState12","_React$useMemo","_React$useMemo2","effectiveWidth","effectiveHeight","_React$useMemo3","_React$useMemo4","innerWidth","innerHeight","_React$useMemo5","origin","sizeWidth","sizeHeight","min","root","newRoot","hierarchy","JSON","stringify","forceRefresh","prev","shortId","generate","parentNode","filter","onChange","value","disabled","type","max","step","vx_gradient_es","from","to","vx_hierarchy_es","size","separation","tree_Links","Nodes","descendants","styles","createStyles","rootDiv","backgroundColor","alignItems","resize","overflow","AnimatedPlus","withStyles","_React$useState","_React$useState2","setWidth","setHeight","index_esm","bounds","onResize","measureRef","classes","Tree","cicleSpring","useSpring","plusSpring","Fragment","web","circle","cy","svg","xmlns","viewBox","AnimatedBin","CustomizedView","setState","preventDefault","push","tree_AnimatedPlus","tree_AnimatedBin","App","tree","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.dc22fce3.chunk.js","sourcesContent":["import React from 'react';\r\nimport cx from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nLinkVerticalElbow.propTypes = {\r\n  innerRef: PropTypes.func,\r\n  before: PropTypes.bool,\r\n  after: PropTypes.bool\r\n};\r\n\r\nexport default function LinkVerticalElbow({\r\n  className,\r\n  innerRef,\r\n  data,\r\n  before,\r\n  after,\r\n  x = d => d.x,\r\n  y = d => d.y,\r\n  ...restProps\r\n}) {\r\n  \r\n  const line = (source, target) => {\r\n    var b = target.y - source.y;\r\n    var a = Math.abs(Math.tan(Math.PI / 4) * b);\r\n    var c = target.x - source.x;\r\n\r\n    var h = Math.sqrt(Math.pow(b, 2) + Math.pow(c, 2));\r\n    var ab = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));\r\n\r\n    /* \r\n      Check if the line between the two points is less than \r\n      the hypotenuse between a and b\r\n    */\r\n    if (h < ab) {\r\n      a = target.x - source.x;\r\n      b = Math.abs(Math.tan(Math.PI / 4) * a);\r\n\r\n      if ((target.y - source.y) < 0) {\r\n        b = -b;;\r\n      }\r\n    } else {\r\n      if ((target.x - source.x) < 0) {\r\n        a = -a;\r\n      }\r\n    }\r\n    \r\n    return `\r\n      M${x(source)},${y(source)}\r\n      L${a},${b}\r\n      L${x(target)},${y(target)}\r\n    `;\r\n  }\r\n\r\n  return (\r\n    <path\r\n      ref={innerRef}\r\n      className={cx('vx-link', className)}\r\n      d={line(data.source, data.target)}\r\n      {...restProps}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport cx from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nLinkVerticalElbow.propTypes = {\r\n  innerRef: PropTypes.func,\r\n  before: PropTypes.bool,\r\n  after: PropTypes.bool\r\n};\r\n\r\nexport default function LinkVerticalElbow({\r\n  className,\r\n  innerRef,\r\n  data,\r\n  before,\r\n  after,\r\n  x = d => d.y,\r\n  y = d => d.x,\r\n  ...restProps\r\n}) {\r\n\r\n  const line = (source, target) => {\r\n    var b = target.y - source.y;\r\n    var a = Math.abs(Math.tan(Math.PI / 4) * b);\r\n    var c = target.x - source.x;\r\n\r\n    var h = Math.sqrt(Math.pow(b, 2) + Math.pow(c, 2));\r\n    var ab = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));\r\n\r\n    /* \r\n      Check if the line between the two points is less than \r\n      the hypotenuse between a and b\r\n    */\r\n    // if (h < ab) {\r\n    //   a = target.x - source.x;\r\n    //   b = Math.abs(Math.tan(Math.PI / 4) * a);\r\n\r\n    //   if ((target.y - source.y) < 0) {\r\n    //     b = -b;;\r\n    //   }\r\n    // } else {\r\n    //   if ((target.x - source.x) < 0) {\r\n    //     a = -a;\r\n    //   }\r\n    // }\r\n\r\n    return `\r\n      M${x(source)},${y(source)}\r\n      L${x(source) + a},${x(source) + b}\r\n      L${x(target)},${y(target)}\r\n    `;\r\n    // return { a, b }\r\n  }\r\n\r\n  return (\r\n    <path\r\n      ref={innerRef}\r\n      className={cx('vx-link', className)}\r\n      d={line(data.source, data.target)}\r\n      {...restProps}\r\n    />\r\n  )\r\n\r\n  // const { a, b } = line(data.source, data.target);\r\n  // return (\r\n  //   <circle r={5} cx={a} cy={b} fill=\"#ccc\" />\r\n  // )\r\n}\r\n","import React, { FC, ComponentType } from \"react\";\r\n\r\nimport {\r\n\tLinkHorizontal,\r\n\tLinkVertical,\r\n\tLinkRadial,\r\n\tLinkHorizontalStep,\r\n\tLinkVerticalStep,\r\n\tLinkRadialStep,\r\n\tLinkHorizontalCurve,\r\n\tLinkVerticalCurve,\r\n\tLinkRadialCurve,\r\n\tLinkHorizontalLine,\r\n\tLinkVerticalLine,\r\n\tLinkRadialLine,\r\n} from \"@vx/shape\";\r\nimport { LinkHorizontalElbow, LinkVerticalElbow } from \"./elbow\";\r\nimport { LinkProps } from \"./types\";\r\n\r\nconst Link: FC<LinkProps> = (props: LinkProps) => {\r\n\tconst {\r\n\t\tdata,\r\n\t\tlinkType,\r\n\t\tlayout,\r\n\t\torientation,\r\n\t\tstepPercent,\r\n\t\t...restProps\r\n\t} = props;\r\n\tlet LinkComponent:any; //need to find a better way to handle its dynamic nature\r\n\tif (layout === \"polar\") {\r\n\t\tif (linkType === \"step\") {\r\n\t\t\tLinkComponent = LinkRadialStep;\r\n\t\t} else if (linkType === \"curve\") {\r\n\t\t\tLinkComponent = LinkRadialCurve;\r\n\t\t} else if (linkType === \"line\") {\r\n\t\t\tLinkComponent = LinkRadialLine;\r\n\t\t} else {\r\n\t\t\tLinkComponent = LinkRadial;\r\n\t\t}\r\n\t} else {\r\n\t\tif (orientation === \"vertical\") {\r\n\t\t\tif (linkType === \"step\") {\r\n\t\t\t\tLinkComponent = LinkVerticalStep;\r\n\t\t\t} else if (linkType === \"curve\") {\r\n\t\t\t\tLinkComponent = LinkVerticalCurve;\r\n\t\t\t} else if (linkType === \"line\") {\r\n\t\t\t\tLinkComponent = LinkVerticalLine;\r\n\t\t\t} else if (linkType === \"elbow\") {\r\n\t\t\t\tLinkComponent = LinkVerticalElbow;\r\n\t\t\t} else {\r\n\t\t\t\tLinkComponent = LinkVertical;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (linkType === \"step\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalStep;\r\n\t\t\t} else if (linkType === \"curve\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalCurve;\r\n\t\t\t} else if (linkType === \"line\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalLine;\r\n\t\t\t} else if (linkType === \"elbow\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalElbow;\r\n\t\t\t} else {\r\n\t\t\t\tLinkComponent = LinkHorizontal;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (layout === \"polar\") {\r\n\t\tif (linkType === \"step\") {\r\n\t\t\tLinkComponent = LinkRadialStep;\r\n\t\t} else if (linkType === \"curve\") {\r\n\t\t\tLinkComponent = LinkRadialCurve;\r\n\t\t} else if (linkType === \"line\") {\r\n\t\t\tLinkComponent = LinkRadialLine;\r\n\t\t} else {\r\n\t\t\tLinkComponent = LinkRadial;\r\n\t\t}\r\n\t} else {\r\n\t\tif (orientation === \"vertical\") {\r\n\t\t\tif (linkType === \"step\") {\r\n\t\t\t\tLinkComponent = LinkVerticalStep;\r\n\t\t\t} else if (linkType === \"curve\") {\r\n\t\t\t\tLinkComponent = LinkVerticalCurve;\r\n\t\t\t} else if (linkType === \"line\") {\r\n\t\t\t\tLinkComponent = LinkVerticalLine;\r\n\t\t\t} else if (linkType === \"elbow\") {\r\n\t\t\t\tLinkComponent = LinkVerticalElbow;\r\n\t\t\t} else {\r\n\t\t\t\tLinkComponent = LinkVertical;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (linkType === \"step\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalStep;\r\n\t\t\t} else if (linkType === \"curve\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalCurve;\r\n\t\t\t} else if (linkType === \"line\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalLine;\r\n\t\t\t} else if (linkType === \"elbow\") {\r\n\t\t\t\tLinkComponent = LinkHorizontalElbow;\r\n\t\t\t} else {\r\n\t\t\t\tLinkComponent = LinkHorizontal;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    return (\r\n        <LinkComponent\r\n          data={data}\r\n          percent={stepPercent}\r\n          stroke=\"#374469\"\r\n          strokeWidth=\"1\"\r\n          fill=\"none\"\r\n          {...restProps}\r\n        />\r\n      );\r\n};\r\n\r\nexport default Link;","import { TreeNode } from './types';\r\nimport { pointRadial } from \"d3-shape\";\r\n\r\nexport const findCollapsedParent =(node:TreeNode):TreeNode|null=> {\r\n\tif (!node.data.isExpanded || !node.parent) {\r\n\t\treturn node;\r\n\t} else if (node.parent) {\r\n\t\treturn findCollapsedParent(node.parent);\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport const getTopLeft = (node:TreeNode, layout:string, orientation:string) => {\r\n\r\n\tif (layout === \"polar\") {\r\n\t\tconst [radialX, radialY] = pointRadial(node.x, node.y);\r\n\t\treturn {\r\n\t\t\ttop: radialY,\r\n\t\t\tleft: radialX\r\n\t\t};\r\n\t} else if (orientation === \"vertical\") {\r\n\t\treturn {\r\n\t\t\ttop: node.y - ((node.data && (node.depth===0? -1*node.data.renderWidth!:node.data.renderHeight!)/2)|| 0),\r\n\t\t\tleft: node.x \r\n\t\t};\r\n\t} else {\r\n\t\treturn {\r\n\t\t\ttop: node.x,\r\n\t\t\tleft: node.y - ((node.depth===0? -1:1)*(node.data && node.data.renderWidth! / 2) || 0)\r\n\t\t};\r\n\t}\r\n}\r\n","import React, { FC } from \"react\";\r\nimport { Group } from \"@vx/group\";\r\nimport { NodeGroup } from \"react-move\";\r\nimport Link from \"./Link\";\r\nimport { findCollapsedParent } from \"./utils\";\r\nimport { LinksProps } from \"./types\";\r\n\r\nconst Links: FC<LinksProps> = (props: LinksProps) => {\r\n\tconst { links, linkType, layout, orientation, stepPercent } = props;\r\n\r\n\treturn (\r\n\t\t<NodeGroup\r\n\t\t\tdata={links}\r\n\t\t\tkeyAccessor={(d, i) =>\r\n\t\t\t\t`${d.source.data.id}_${d.target.data.id}`\r\n\t\t\t}\r\n\t\t\tstart={({ source, target }) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsource: {\r\n\t\t\t\t\t\tx: source.data.x0 || source.x,\r\n\t\t\t\t\t\ty: source.data.y0 || source.y\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\tx: source.data.x0 || source.x,\r\n\t\t\t\t\t\ty: source.data.y0 || source.y\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}}\r\n\t\t\tenter={({ source, target }) => {\r\n\t\t\t\tif (layout === \"polar\") {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tsource: {\r\n\t\t\t\t\t\t\tx: [source.x],\r\n\t\t\t\t\t\t\ty: [source.y]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\tx: [target.x],\r\n\t\t\t\t\t\t\ty: [target.y]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsource: {\r\n\t\t\t\t\t\tx: [source.x],\r\n\t\t\t\t\t\ty: [\r\n\t\t\t\t\t\t\torientation === \"vertical\"\r\n\t\t\t\t\t\t\t\t? source.y\r\n\t\t\t\t\t\t\t\t: source.y -\r\n\t\t\t\t\t\t\t\t  ((source.depth === 0 ? -1 : 1) *\r\n\t\t\t\t\t\t\t\t\t\t(source.data &&\r\n\t\t\t\t\t\t\t\t\t\t\tsource.data.renderWidth / 2) || 0)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\tx: [target.x],\r\n\t\t\t\t\t\ty: [\r\n\t\t\t\t\t\t\torientation === \"vertical\"\r\n\t\t\t\t\t\t\t\t? target.y\r\n\t\t\t\t\t\t\t\t: target.y -\r\n\t\t\t\t\t\t\t\t  ((target.depth === 0 ? -1 : 1) *\r\n\t\t\t\t\t\t\t\t\t\t(target.data &&\r\n\t\t\t\t\t\t\t\t\t\t\ttarget.data.renderWidth / 2) || 0)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}}\r\n\t\t\tupdate={({ source, target }) => {\r\n\t\t\t\tif (layout === \"polar\") {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tsource: {\r\n\t\t\t\t\t\t\tx: [source.x],\r\n\t\t\t\t\t\t\ty: [source.y]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\tx: [target.x],\r\n\t\t\t\t\t\t\ty: [target.y]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsource: {\r\n\t\t\t\t\t\tx: [source.x],\r\n\t\t\t\t\t\ty: [\r\n\t\t\t\t\t\t\torientation === \"vertical\"\r\n\t\t\t\t\t\t\t\t? source.y\r\n\t\t\t\t\t\t\t\t: source.y -\r\n\t\t\t\t\t\t\t\t  ((source.depth === 0 ? -1 : 1) *\r\n\t\t\t\t\t\t\t\t\t\t(source.data &&\r\n\t\t\t\t\t\t\t\t\t\t\tsource.data.renderWidth / 2) || 0)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\tx: [target.x],\r\n\t\t\t\t\t\ty: [\r\n\t\t\t\t\t\t\torientation === \"vertical\"\r\n\t\t\t\t\t\t\t\t? target.y\r\n\t\t\t\t\t\t\t\t: target.y -\r\n\t\t\t\t\t\t\t\t  ((target.depth === 0 ? -1 : 1) *\r\n\t\t\t\t\t\t\t\t\t\t(target.data &&\r\n\t\t\t\t\t\t\t\t\t\t\ttarget.data.renderWidth / 2) || 0)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}}\r\n\t\t\tleave={({ source, target }) => {\r\n                const collapsedParent = findCollapsedParent(source);\r\n                console.log(\"ya boi\", collapsedParent)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsource: {\r\n\t\t\t\t\t\tx: [\r\n\t\t\t\t\t\t\tcollapsedParent!.data.x0 || collapsedParent!.x\r\n\t\t\t\t\t\t], //assume not null because root (only parentless node, will never leave)\r\n\t\t\t\t\t\ty: [collapsedParent!.data.y0 || collapsedParent!.y ]\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\tx: [\r\n\t\t\t\t\t\t\tcollapsedParent!.data.x0 || collapsedParent!.x\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\ty: [collapsedParent!.data.y0 || collapsedParent!.y ]\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{nodes => (\r\n\t\t\t\t<Group>\r\n\t\t\t\t\t{nodes.map(({ key, data, state }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tdata={state}\r\n\t\t\t\t\t\t\t\tlinkType={linkType}\r\n\t\t\t\t\t\t\t\tlayout={layout}\r\n\t\t\t\t\t\t\t\torientation={orientation}\r\n\t\t\t\t\t\t\t\tstepPercent={stepPercent}\r\n\t\t\t\t\t\t\t\tstroke=\"#374469\"\r\n\t\t\t\t\t\t\t\tstrokeWidth=\"1\"\r\n\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Group>\r\n\t\t\t)}\r\n\t\t</NodeGroup>\r\n\t);\r\n};\r\n\r\nexport default Links;\r\n","import React, { Fragment, FC, useState, useRef, useLayoutEffect, cloneElement } from \"react\";\r\nimport { NodeProps, Vector2, NodeEvents } from \"./types\";\r\n\r\nconst rectOffset: Vector2 = {\r\n\tx: 20,\r\n\ty: 15\r\n};\r\n\r\nconst Node: FC<NodeProps> = props => {\r\n\tconst {\r\n\t    node,\r\n\t    onNodeClick,\r\n\t    onNodeDoubleClick,\r\n\t    onNodeHover,\r\n\t    onNodeMouseEnter,\r\n        onNodeMouseLeave,\r\n        children,\r\n        operations\r\n\t} = props;\r\n\tconst [rect, setRect] = useState<Vector2 | undefined>(undefined);\r\n\tconst width = (rect && rect.x) || 20;\r\n\tconst height = (rect && rect.y) || 20;\r\n\r\n\tconst refCallback = useRef<SVGTextElement>(null);\r\n\tuseLayoutEffect(() => {\r\n\t\t//see https://github.com/hshoff/vx/issues/375\r\n\t\tif (!refCallback.current) return;\r\n\t\tconst elementRect = refCallback.current.getBoundingClientRect();\r\n\t\tsetRect({\r\n\t\t\tx: elementRect.width + rectOffset.x,\r\n\t\t\ty: elementRect.height + rectOffset.y\r\n\t\t});\r\n\t\tnode.data.renderWidth = elementRect.width + rectOffset.x;\r\n\t\tnode.data.renderHeight = elementRect.height + rectOffset.y;\r\n    }, [refCallback]);\r\n    const events = React.useMemo<NodeEvents>(()=>{\r\n        return{\r\n             onNodeClick:props.onNodeClick||function(ev, node, ops){\r\n                ev.stopPropagation();\r\n                ops!.expandNode!(node);\r\n            },\r\n            onNodeDoubleClick:props.onNodeDoubleClick||function(ev, node, ops){\r\n                ev.stopPropagation();\r\n                console.log(\"onNodeDoubleClick undefined\")\r\n            },\r\n            onNodeHover:props.onNodeHover||function(ev, node, ops){\r\n\r\n            },\r\n            onNodeMouseEnter:props.onNodeMouseEnter||function(ev, node, ops){\r\n            },\r\n            onNodeMouseLeave:props.onNodeMouseLeave||function(ev, node, ops){\r\n            }\r\n        }\r\n    }, [props.onNodeClick, props.onNodeDoubleClick, props.onNodeHover, operations]);\r\n    \r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{node.depth === 0 && (\r\n\t\t\t\t<circle\r\n\t\t\t\t\tr={width / 2}   \r\n                    fill=\"url('#lg')\"                    \r\n                    onClick={e => events.onNodeClick && events.onNodeClick(e, node, operations)}\r\n                    onDoubleClick={e=>events.onNodeDoubleClick && events.onNodeDoubleClick(e, node, operations)}\r\n                    onMouseMove={e=>events.onNodeHover && events.onNodeHover(e, node, operations)}\r\n                    onMouseEnter={e=>events.onNodeMouseEnter && events.onNodeMouseEnter(e, node, operations)}\r\n                    onMouseLeave ={e=>events.onNodeMouseLeave && events.onNodeMouseLeave(e, node, operations)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{node.depth !== 0 && (\r\n\t\t\t\t<rect\r\n\t\t\t\t\theight={height}\r\n\t\t\t\t\twidth={width}\r\n\t\t\t\t\ty={-height / 2}\r\n\t\t\t\t\tx={-width / 2}\r\n\t\t\t\t\tfill={\"#272b4d\"}\r\n\t\t\t\t\tstroke={node.data.children ? \"#03c0dc\" : \"#26deb0\"}\r\n\t\t\t\t\tstrokeWidth={1}\r\n\t\t\t\t\tstrokeDasharray={!node.data.children ? \"2,2\" : \"0\"}\r\n\t\t\t\t\tstrokeOpacity={!node.data.children ? 0.6 : 1}\r\n\t\t\t\t\trx={!node.data.children ? 10 : 0}\r\n                    onClick={e => events.onNodeClick && events.onNodeClick(e, node, operations)}\r\n                    onDoubleClick={e=>events.onNodeDoubleClick && events.onNodeDoubleClick(e, node, operations)}\r\n                    onMouseMove={e=>events.onNodeHover && events.onNodeHover(e, node, operations)}\r\n                    onMouseEnter={e=>events.onNodeMouseEnter && events.onNodeMouseEnter(e, node, operations)}\r\n                    onMouseLeave ={e=>events.onNodeMouseLeave && events.onNodeMouseLeave(e, node, operations)}\r\n\t\t\t\t/>\r\n            )}\r\n            {children && children(node, operations)}\r\n\t\t\t<text\r\n\t\t\t\tdy={\".33em\"}\r\n\t\t\t\tfontSize={9}\r\n\t\t\t\tfontFamily=\"Arial\"\r\n\t\t\t\ttextAnchor={\"middle\"}\r\n\t\t\t\tstyle={{ pointerEvents: \"none\" }}\r\n\t\t\t\tref={refCallback}\r\n\t\t\t\tfill={\r\n\t\t\t\t\tnode.depth === 0\r\n\t\t\t\t\t\t? \"#71248e\"\r\n\t\t\t\t\t\t: node.children\r\n\t\t\t\t\t\t? \"white\"\r\n\t\t\t\t\t\t: \"#26deb0\"\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{node.data.name}\r\n\t\t\t</text>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default Node;\r\n","import React, { Fragment, Component, FC } from \"react\";\r\nimport { Group } from \"@vx/group\";\r\nimport NodeGroup from \"react-move/NodeGroup\";\r\nimport Node from \"./Node\";\r\nimport { findCollapsedParent, getTopLeft } from \"./utils\";\r\nimport { NodesMoveProps, Vector2, TreeNode, NodeEvents } from \"./types\";\r\n\r\nclass NodesMove extends Component<NodesMoveProps> {\r\n\tconstructor(props: NodesMoveProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tprioritizedData: any[] | undefined = undefined;\r\n    renderRects: Vector2[] | undefined = undefined;\r\n\r\n    compareRects= () =>{\r\n\t\t//checks if positions are optimized for sizes, if not, rerenders\r\n\t\tconst newRenderRects: Vector2[] = this.props.nodes.map(i => ({\r\n\t\t\tx: i.data.renderWidth!,\r\n\t\t\ty: i.data.renderHeight!\r\n        }));\r\n\t\tif (!this.renderRects) return;\r\n\t\tif (this.renderRects === newRenderRects) return; //old comment on old impl was \"dont worry node-group already handles it https://react-move.js.org/#/component-api/node-group\" and im too afraid of deleting it now\r\n\r\n\t\tfor (let i = 0; i < this.renderRects.length; i++) {\r\n\t\t\tif (\r\n\t\t\t\tthis.renderRects[i].x !== newRenderRects[i].x ||\r\n\t\t\t\tthis.renderRects[i].y !== newRenderRects[i].y\r\n\t\t\t) {\r\n\t\t\t\tthis.prioritizedData = [...this.props.nodes];\r\n\t\t\t\tthis.forceUpdate();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.prioritizedData = undefined;\r\n    }\r\n    componentDidMount(){\r\n        this.compareRects();\r\n    }\r\n\tcomponentDidUpdate(prevProps: NodesMoveProps) {\r\n        const oldData = prevProps.nodes;\r\n\t\tif (!oldData) return;\r\n        this.compareRects();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { nodes, layout, orientation, onNodeClick, operations, nodeChildren } = this.props;\r\n\t\tthis.renderRects = nodes.map(i => ({\r\n\t\t\tx: i.data.renderWidth!,\r\n\t\t\ty: i.data.renderHeight!\r\n        }));\r\n\t\treturn (\r\n\t\t\t<NodeGroup\r\n\t\t\t\tdata={this.prioritizedData || nodes}\r\n\t\t\t\tkeyAccessor={d => d.data.id}\r\n\t\t\t\tstart={node => {\r\n\t\t\t\t\tconst parentTopLeft = getTopLeft(\r\n\t\t\t\t\t\tnode.parent || { x: 0, y: 0 },\r\n\t\t\t\t\t\tlayout,\r\n\t\t\t\t\t\torientation\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop: parentTopLeft.top,\r\n\t\t\t\t\t\tleft: parentTopLeft.left,\r\n\t\t\t\t\t\topacity: 0\r\n\t\t\t\t\t};\r\n\t\t\t\t}}\r\n\t\t\t\tenter={node => {\r\n\t\t\t\t\tconst topLeft = getTopLeft(node, layout, orientation);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop: [topLeft.top],\r\n\t\t\t\t\t\tleft: [topLeft.left],\r\n\t\t\t\t\t\topacity: [1]\r\n\t\t\t\t\t};\r\n\t\t\t\t}}\r\n\t\t\t\tupdate={node => {\r\n\t\t\t\t\tconst topLeft = getTopLeft(node, layout, orientation);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop: [topLeft.top],\r\n\t\t\t\t\t\tleft: [topLeft.left],\r\n\t\t\t\t\t\topacity: [1]\r\n\t\t\t\t\t};\r\n\t\t\t\t}}\r\n\t\t\t\tleave={node => {\r\n\t\t\t\t\tconst collapsedParent = findCollapsedParent(node.parent);\r\n\t\t\t\t\tconst collapsedParentPrevPos:TreeNode = {\r\n                        ...collapsedParent!,//assume not null because root (only parentless node, will never leave)\r\n\t\t\t\t\t\tx: collapsedParent!.data.x0 || collapsedParent!.x,\r\n\t\t\t\t\t\ty: collapsedParent!.data.y0 || collapsedParent!.y\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst topLeft = getTopLeft(\r\n\t\t\t\t\t\tcollapsedParentPrevPos,\r\n\t\t\t\t\t\tlayout,\r\n\t\t\t\t\t\torientation\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop: [topLeft.top],\r\n\t\t\t\t\t\tleft: [topLeft.left],\r\n\t\t\t\t\t\topacity: [0]\r\n\t\t\t\t\t};\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{nodes => (\r\n\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t{nodes.sort((x, y)=>Number(x.data.data.selected||0)-Number(y.data.data.selected||0)).map(({ key, data: node, state }) => {\r\n\t\t\t\t\t\t\tconst width = 40;\r\n                            const height = 20;\r\n                            // console.log(nodes.sort((x, y)=>Number(x.data.data.selected||0)-Number(y.data.data.selected||0)))\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Group\r\n\t\t\t\t\t\t\t\t\ttop={state.top}\r\n\t\t\t\t\t\t\t\t\tleft={state.left}\r\n\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\topacity={state.opacity}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Node\r\n                                        operations={operations}\r\n\t\t\t\t\t\t\t\t\t\tnode={node}\r\n                                        key={key}\r\n                                        children={nodeChildren}\r\n                                        {...(this.props as NodeEvents)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Group>\r\n\t\t\t\t)}\r\n\t\t\t</NodeGroup>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NodesMove;","import * as React from \"react\";\r\nimport { Group } from \"@vx/group\";\r\nimport { Tree, INode } from \"@vx/hierarchy\";\r\nimport { LinearGradient } from \"@vx/gradient\";\r\nimport { hierarchy } from \"d3-hierarchy\";\r\nimport Links from \"./Links\";\r\nimport Nodes from \"./Nodes\";\r\nimport _ from \"lodash\";\r\nimport { TreeProps, Vector2, TreeNode, TreeOperations, NodeEvents } from \"./types\";\r\nimport shortId from \"shortid\";\r\n\r\nconst useForceUpdate = () => {\r\n\tconst [, setState] = React.useState();\r\n\treturn setState;\r\n};\r\n\r\nconst TreeView: React.FC<TreeProps> = (props: TreeProps) => {\r\n\tconst {\r\n\t\tdata,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tmargin = {\r\n\t\t\ttop: 24,\r\n\t\t\tleft: 24,\r\n\t\t\tright: 24,\r\n\t\t\tbottom: 24\r\n\t\t},\r\n\t\taddNode,\r\n\t\tremoveNode,\r\n        expandNode,\r\n        nodeChildren\r\n\t} = props;\r\n\r\n\tconst [layout, setlayout] = React.useState<string>(\"cartesian\");\r\n\tconst [orientation, setOrientation] = React.useState<string>(\"horizontal\");\r\n\tconst [linkType, setLinkType] = React.useState<string>(\"diagonal\");\r\n\tconst [stepPercent, setStepPercent] = React.useState<number>(0.5);\r\n\tconst [r, forceUpdate] = React.useState<boolean>(false); //i know...\r\n\r\n\tconst [effectiveWidth, effectiveHeight] = React.useMemo(() => {\r\n\t\tconst fHeight = height - 28;\r\n\t\tconst fWidth = width;\r\n\t\treturn [fWidth, fHeight];\r\n\t}, [width, height]);\r\n\r\n\tconst [innerWidth, innerHeight] = React.useMemo(() => {\r\n\t\tconst iWidth = effectiveWidth - margin.left - margin.right;\r\n\t\tconst iHeight = effectiveHeight - margin.top - margin.bottom;\r\n\t\treturn [iWidth, iHeight];\r\n\t}, [effectiveWidth, effectiveHeight, margin]);\r\n\r\n\tconst { origin, sizeWidth, sizeHeight } = React.useMemo(() => {\r\n\t\tlet origin: Vector2;\r\n\t\tlet sizeWidth: number;\r\n\t\tlet sizeHeight: number;\r\n\t\tif (layout === \"polar\") {\r\n\t\t\torigin = {\r\n\t\t\t\tx: innerWidth / 2,\r\n\t\t\t\ty: innerHeight / 2\r\n\t\t\t};\r\n\t\t\tconsole.log(\"uh\", layout, origin);\r\n\r\n\t\t\tsizeWidth = 2 * Math.PI;\r\n\t\t\tsizeHeight = Math.min(innerWidth, innerHeight) / 2;\r\n\t\t} else {\r\n\t\t\tif (orientation === \"vertical\") {\r\n\t\t\t\torigin = { x: margin.top, y: margin.right };\r\n\t\t\t\tsizeWidth = innerWidth;\r\n\t\t\t\tsizeHeight = innerHeight;\r\n\t\t\t} else {\r\n\t\t\t\torigin = { x: margin.left, y: margin.top };\r\n\t\t\t\tsizeWidth = innerHeight;\r\n\t\t\t\tsizeHeight = innerWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\torigin,\r\n\t\t\tsizeWidth,\r\n\t\t\tsizeHeight\r\n\t\t};\r\n    }, [layout, innerWidth, innerHeight, orientation]);\r\n    \r\n\tconst root = React.useMemo(() => {\r\n        const newRoot = hierarchy(data, d => (d.isExpanded ? d.children : null));\r\n        console.log(\"new data\",newRoot);\r\n\t\treturn newRoot;\r\n    }, [JSON.stringify(data)]);\r\n\tconst forceRefresh = () => {\r\n\t\tforceUpdate(prev => !prev); //this doenst work, reference not kept\r\n    };\r\n\tconst operations = React.useMemo<TreeOperations>(() => {\r\n\t\treturn {\r\n\t\t\taddNode:\r\n\t\t\t\tprops.addNode ||\r\n\t\t\t\tfunction(node) {\r\n\t\t\t\t\tnode.data.children = [\r\n\t\t\t\t\t\t...(node.data.children || []),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: `${node.data.name}.${(node.data.children &&\r\n\t\t\t\t\t\t\t\tnode.data.children.length) ||\r\n                                0}`,\r\n                            id:shortId.generate()\r\n\t\t\t\t\t\t}\r\n                    ];\r\n                    node.data.isExpanded= true;\r\n                    forceRefresh();\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t},\r\n\t\t\tremoveNode:\r\n\t\t\t\tprops.removeNode ||\r\n\t\t\t\tfunction(node) {\r\n                    const parentNode = node.parent;\r\n                    if(!parentNode || !parentNode.data.children)throw `Expected defined parent with defined children but got ${parentNode}`\r\n                    parentNode.data.children = parentNode.data.children.filter(i=>i.name!==node.data.name)\r\n                    parentNode.children = parentNode.children!.filter(i=>i.data.name!==node.data.name)\r\n                    node.parent=null;\r\n\t\t\t\t\treturn parentNode;\r\n\t\t\t\t},\r\n\t\t\texpandNode:\r\n\t\t\t\tprops.expandNode ||\r\n\t\t\t\tfunction(node) {\r\n\t\t\t\t\tif (!node.data.isExpanded) {\r\n\t\t\t\t\t\tnode.data.x0 = node.x;\r\n\t\t\t\t\t\tnode.data.y0 = node.y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnode.data.isExpanded = !node.data.isExpanded;\r\n\t\t\t\t\tforceRefresh();\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t}\r\n\t\t};\r\n    }, [props.addNode, props.removeNode, props.expandNode]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<label>layout:</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={e => setlayout(e.target.value)}\r\n\t\t\t\t\tvalue={layout}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value=\"cartesian\">cartesian</option>\r\n\t\t\t\t\t<option value=\"polar\">polar</option>\r\n\t\t\t\t</select>\r\n\r\n\t\t\t\t<label>orientation:</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={e => setOrientation(e.target.value)}\r\n\t\t\t\t\tvalue={orientation}\r\n\t\t\t\t\tdisabled={layout === \"polar\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value=\"vertical\">vertical</option>\r\n\t\t\t\t\t<option value=\"horizontal\">horizontal</option>\r\n\t\t\t\t</select>\r\n\r\n\t\t\t\t<label>link:</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={e => setLinkType(e.target.value)}\r\n\t\t\t\t\tvalue={linkType}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value=\"diagonal\">diagonal</option>\r\n\t\t\t\t\t<option value=\"step\">step</option>\r\n\t\t\t\t\t<option value=\"curve\">curve</option>\r\n\t\t\t\t\t<option value=\"line\">line</option>\r\n\t\t\t\t\t<option value=\"elbow\">elbow</option>\r\n\t\t\t\t</select>\r\n\r\n\t\t\t\t<label>step:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin={0}\r\n\t\t\t\t\tmax={1}\r\n\t\t\t\t\tstep={0.1}\r\n\t\t\t\t\tonChange={e => setStepPercent(Number(e.target.value))}\r\n\t\t\t\t\tvalue={stepPercent}\r\n\t\t\t\t\tdisabled={linkType !== \"step\" || layout === \"polar\"}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<svg width={effectiveWidth} height={effectiveHeight}>\r\n\t\t\t\t<LinearGradient id=\"lg\" from=\"#fd9b93\" to=\"#fe6e9e\" />\r\n\t\t\t\t<rect\r\n\t\t\t\t\twidth={effectiveWidth}\r\n\t\t\t\t\theight={effectiveHeight}\r\n\t\t\t\t\trx={14}\r\n\t\t\t\t\tfill=\"#272b4d\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Tree\r\n\t\t\t\t\ttop={origin.y}\r\n\t\t\t\t\tleft={origin.x}\r\n\t\t\t\t\troot={root}\r\n\t\t\t\t\tsize={[sizeWidth, sizeHeight]}\r\n\t\t\t\t\tseparation={(a: any, b: any) =>\r\n\t\t\t\t\t\t(a.parent == b.parent ? 1 : 0.5) / a.depth\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{(data: TreeNode) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Group top={origin.y} left={origin.x}>\r\n\t\t\t\t\t\t\t\t<Links\r\n\t\t\t\t\t\t\t\t\tlinks={data.links()}\r\n\t\t\t\t\t\t\t\t\tlinkType={linkType}\r\n\t\t\t\t\t\t\t\t\tlayout={layout}\r\n\t\t\t\t\t\t\t\t\torientation={orientation}\r\n\t\t\t\t\t\t\t\t\tstepPercent={stepPercent}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<Nodes\r\n\t\t\t\t\t\t\t\t\tnodes={data.descendants()}\r\n\t\t\t\t\t\t\t\t\tlayout={layout}\r\n                                    orientation={orientation}\r\n                                    operations={operations}\r\n                                    nodeChildren={nodeChildren}\r\n                                    {...props as NodeEvents}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t</Tree>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TreeView;\r\n","import { TreeNodeData } from './types';\r\nconst data:TreeNodeData={\r\n  name: \"Tututuru\",\r\n  id:1,\r\n  isExpanded: true,\r\n  children: [\r\n    {\r\n      name: \"Aaaaaaaaaaaa ahhahahahah\",\r\n      isExpanded: true,\r\n      id:2,\r\n\r\n      children: [\r\n        { name: \"A1\",id:3 },\r\n        { name: \"A2\",id:4 },\r\n        { name: \"A3\", id:5 },\r\n        {\r\n          name: \"C\",\r\n          id:6,\r\n          children: [\r\n            {\r\n              name: \"C1\",\r\n              id:7\r\n            },\r\n            {\r\n              name: \"D\",\r\n              id:8,\r\n              children: [\r\n                {\r\n                  name: \"D111\",\r\n                  id:9\r\n                },\r\n                {\r\n                  name: \"D2\",\r\n                  id:10\r\n                },\r\n                {\r\n                  name: \"D3333333\",\r\n                  id:11\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    { name: \"Z\", id:12 },\r\n    {\r\n      name: \"Bbbbbbbbb\",\r\n      id:13,\r\n      children: [{ name: \"B1\", id:14 }, { name: \"B26\", id:15 }, { name: \"B3\",id:16 }]\r\n    }\r\n  ]\r\n};\r\n\r\nexport default data;","import * as React from \"react\";\r\nimport { withStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Measure from \"react-measure\";\r\nimport Tree from './Tree';\r\nimport data from \"./data\";\r\nimport { TreeNode } from \"./types\";\r\n\r\nconst styles = createStyles({\r\n\trootDiv: {\r\n\t\tbackgroundColor: \"cyan\",\r\n\t\theight: \"800px\",\r\n\t\twidth: \"800px\",\r\n        alignItems: \"center\",\r\n        resize:\"both\",\r\n        overflow:\"auto\",\r\n        margin:\"24px\"\r\n\t}\r\n});\r\n\r\nconst ScaledTree: React.FC = (props: { [key: string]: any }) => {\r\n    const [width, setWidth] = React.useState<number>(0);\r\n    const [height, setHeight] = React.useState<number>(0);\r\n\r\n\treturn (\r\n\t\t<Measure bounds onResize={rect=>{\r\n            if(rect.bounds){\r\n                setWidth(rect.bounds.width);\r\n                setHeight(rect.bounds.height);\r\n            }\r\n        }}>\r\n\t\t\t{({ measureRef }) => (\r\n\t\t\t\t<div ref={measureRef} className={props.classes.rootDiv}>\r\n                    <Tree data={data} width={width-20} height={height-20}  />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Measure>\r\n\t);\r\n};\r\n\r\nexport default withStyles(styles)(ScaledTree);\r\n","import { TreeProps, TreeNodeData, TreeNode } from \"./types\";\r\nimport React, { FC, useState } from \"react\";\r\nimport Tree from \"./Tree\";\r\nimport data from \"./data\";\r\nimport shortId from \"shortid\";\r\nimport {useSpring, animated} from 'react-spring'\r\nexport { default as ScaledTree } from \"./ScaledTree\";\r\n\r\nconst DefaultView: FC = props => {\r\n\treturn <Tree data={data} width={600} height={500} />;\r\n};\r\n\r\nconst AnimatedPlus: FC = () => {\r\n    const cicleSpring = useSpring({r: 12.5, from: {r:0,}, })\r\n    const plusSpring =useSpring({width:17, height:17, x:4,y:4, from: {width:0, height:0, x:12.5, y:12.5}})\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<animated.circle\r\n\t\t\t\tr={cicleSpring.r}\r\n\t\t\t\tfill=\"cyan\"\r\n\t\t\t\tcx=\"12.5\"\r\n\t\t\t\tcy=\"12.5\"\r\n\t\t\t/>\r\n\t\t\t<animated.svg\r\n\t\t\t\tfill=\"indigo\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t{...plusSpring}\r\n\t\t\t>\r\n\t\t\t\t<path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" />\r\n\t\t\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n\t\t\t</animated.svg>\r\n\t\t</>\r\n\t);\r\n};\r\nconst AnimatedBin: FC = () => {\r\n    const cicleSpring = useSpring({r: 12.5, from: {r:0,}, })\r\n    const plusSpring =useSpring({width:17, height:17, x:4,y:4, from: {width:0, height:0, x:12.5, y:12.5}})\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<animated.circle\r\n\t\t\t\tr={cicleSpring.r}\r\n\t\t\t\tfill=\"cyan\"\r\n\t\t\t\tcx=\"12.5\"\r\n\t\t\t\tcy=\"12.5\"\r\n\t\t\t/>\r\n\r\n\t\t\t<animated.svg\r\n\t\t\t\tfill=\"red\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t{...plusSpring}\r\n\t\t\t>\r\n\t\t\t\t<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" />\r\n\t\t\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n\t\t\t</animated.svg>\r\n\t\t</>\r\n\t);\r\n};\r\nclass CustomizedView extends React.Component {\r\n    constructor (props:{[key:string]:any}) {\r\n        super(props)\r\n        this.state={\r\n            data:{ name: \"root\", id:shortId.generate() },\r\n            selected:null\r\n        }\r\n    }\r\n    \r\n    state:{\r\n        data:TreeNodeData\r\n        selected:TreeNode|null\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            props,\r\n        } = this;\r\n\r\n        console.log(\"data\", this.state.data)\r\n        return (\r\n            <Tree\r\n                data={this.state.data}\r\n                width={600}\r\n                height={500}\r\n                onNodeClick={(e, node, operations) =>{\r\n                    console.log(\"selected\", node)\r\n                    if(this.state.selected){\r\n                        this.state.selected.data.selected=false;\r\n                    }\r\n                    node.data.selected=true;\r\n                    if(operations && operations.expandNode){\r\n                        operations.expandNode(node);\r\n                    }\r\n                    this.setState({selected:node});\r\n                }}\r\n                nodeChildren={(node, ops) => {\r\n                    if(!node.data.selected)return undefined;\r\n                    const width = node.data.renderWidth || 0;\r\n                    const height = node.data.renderHeight || 0;\r\n\r\n                    return (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{node.data.selected && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\twidth=\"25\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"25\"\r\n\t\t\t\t\t\t\t\t\t\tx={\r\n\t\t\t\t\t\t\t\t\t\t\tnode.depth > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t? -(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t\t\t\t\t\t  ) - 12.5\r\n\t\t\t\t\t\t\t\t\t\t\t\t: -25 / 2\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonClick={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tconst selected = this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.state\r\n\t\t\t\t\t\t\t\t\t\t\t\t.selected;\r\n\t\t\t\t\t\t\t\t\t\t\tselected!.children =\r\n\t\t\t\t\t\t\t\t\t\t\t\tselected!\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.children ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t[];\r\n\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\tops.addNode\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tselected!.children.push(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tops.addNode(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnode\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ty={\r\n\t\t\t\t\t\t\t\t\t\t\tnode.depth > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t: width /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2 -\r\n\t\t\t\t\t\t\t\t\t\t\t\t  25 / 2\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n                                        <AnimatedPlus/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\r\n\t\t\t\t\t\t\t\t\t{node.depth > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"25\"\r\n\t\t\t\t\t\t\t\t\t\t\theight=\"25\"\r\n\t\t\t\t\t\t\t\t\t\t\tx={\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth / 2 -\r\n\t\t\t\t\t\t\t\t\t\t\t\t12.5\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\ty={0}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst selected = this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.state\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.selected;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tops.removeNode &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected\r\n\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected: ops.removeNode(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n                                            <AnimatedBin/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}\r\nexport default CustomizedView;\r\n","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport TreeView, {ScaledTree}from \"./tree\";\r\nimport './App.css';\r\n\r\nconst App: React.FC = () => {\r\n  return <TreeView/>\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}