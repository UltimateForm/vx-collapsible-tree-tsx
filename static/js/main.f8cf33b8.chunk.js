(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,n){e.exports=n(73)},54:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(39),c=n.n(o),i=(n(54),n(12)),d=n(18),l=n(17),u=n(15),s=n(16),h=n(33),f=n(20),p=n(11),v=n(5),m=n(42),y=n(41),g=n(21),b=n(46),x=n(28),E=n(7),k=n(3),N=n.n(k);function M(e){var t=e.className,n=e.innerRef,a=e.data,o=(e.before,e.after,e.x),c=void 0===o?function(e){return e.x}:o,i=e.y,d=void 0===i?function(e){return e.y}:i,l=Object(x.a)(e,["className","innerRef","data","before","after","x","y"]);return r.a.createElement("path",Object.assign({ref:n,className:N()("vx-link",t),d:function(e,t){var n=t.y-e.y,a=Math.abs(Math.tan(Math.PI/4)*n),r=t.x-e.x;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))<Math.sqrt(Math.pow(a,2)+Math.pow(n,2))?(a=t.x-e.x,n=Math.abs(Math.tan(Math.PI/4)*a),t.y-e.y<0&&(n=-n)):t.x-e.x<0&&(a=-a),"\n      M".concat(c(e),",").concat(d(e),"\n      L").concat(a,",").concat(n,"\n      L").concat(c(t),",").concat(d(t),"\n    ")}(a.source,a.target)},l))}function w(e){var t=e.className,n=e.innerRef,a=e.data,o=(e.before,e.after,e.x),c=void 0===o?function(e){return e.y}:o,i=e.y,d=void 0===i?function(e){return e.x}:i,l=Object(x.a)(e,["className","innerRef","data","before","after","x","y"]);return r.a.createElement("path",Object.assign({ref:n,className:N()("vx-link",t),d:function(e,t){var n=t.y-e.y,a=Math.abs(Math.tan(Math.PI/4)*n),r=t.x-e.x;Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),Math.sqrt(Math.pow(a,2)+Math.pow(n,2));return"\n      M".concat(c(e),",").concat(d(e),"\n      L").concat(c(e)+a,",").concat(c(e)+n,"\n      L").concat(c(t),",").concat(d(t),"\n    ")}(a.source,a.target)},l))}var j=function(e){var t,n=e.data,a=e.linkType,o=e.layout,c=e.orientation,i=e.stepPercent,d=Object(x.a)(e,["data","linkType","layout","orientation","stepPercent"]);return t="polar"===o?"step"===a?E.h:"curve"===a?E.f:"line"===a?E.g:E.e:"vertical"===c?"step"===a?E.l:"curve"===a?E.j:"line"===a?E.k:"elbow"===a?M:E.i:"step"===a?E.d:"curve"===a?E.b:"line"===a?E.c:"elbow"===a?w:E.a,t="polar"===o?"step"===a?E.h:"curve"===a?E.f:"line"===a?E.g:E.e:"vertical"===c?"step"===a?E.l:"curve"===a?E.j:"line"===a?E.k:"elbow"===a?M:E.i:"step"===a?E.d:"curve"===a?E.b:"line"===a?E.c:"elbow"===a?w:E.a,r.a.createElement(t,Object.assign({data:n,percent:i,stroke:"#374469",strokeWidth:"1",fill:"none"},d))},O=n(6),C=function e(t){return t.data.isExpanded&&t.parent?t.parent?e(t.parent):null:t},D=function(e,t,n){if("polar"===t){var a=Object(O.h)(e.x,e.y),r=Object(p.a)(a,2),o=r[0];return{top:r[1],left:o}}return"vertical"===n?{top:e.y-(e.data&&(0===e.depth?-1*e.data.renderWidth:e.data.renderHeight)/2||0),left:e.x}:{top:e.x,left:e.y-((0===e.depth?-1:1)*(e.data&&e.data.renderWidth/2)||0)}},H=function(e){var t=e.links,n=e.linkType,a=e.layout,o=e.orientation,c=e.stepPercent,i=e.selectedRoute;return r.a.createElement(b.a,{data:t,keyAccessor:function(e,t){return"".concat(e.source.data.id,"_").concat(e.target.data.id)},start:function(e){var t=e.source;return e.target,{source:{x:t.data.x0||t.x,y:t.data.y0||t.y},target:{x:t.data.x0||t.x,y:t.data.y0||t.y}}},enter:function(e){var t=e.source,n=e.target;return"polar"===a?{source:{x:[t.x],y:[t.y]},target:{x:[n.x],y:[n.y]}}:{source:{x:[t.x],y:["vertical"===o?t.y:t.y-((0===t.depth?-1:1)*(t.data&&t.data.renderWidth/2)||0)]},target:{x:[n.x],y:["vertical"===o?n.y:n.y-((0===n.depth?-1:1)*(n.data&&n.data.renderWidth/2)||0)]}}},update:function(e){var t=e.source,n=e.target;return"polar"===a?{source:{x:[t.x],y:[t.y]},target:{x:[n.x],y:[n.y]}}:{source:{x:[t.x],y:["vertical"===o?t.y:t.y-((0===t.depth?-1:1)*(t.data&&t.data.renderWidth/2)||0)]},target:{x:[n.x],y:["vertical"===o?n.y:n.y-((0===n.depth?-1:1)*(n.data&&n.data.renderWidth/2)||0)]}}},leave:function(e){var t=e.source,n=(e.target,C(t));return{source:{x:[n.data.x0||n.x],y:[n.data.y0||n.y]},target:{x:[n.data.x0||n.x],y:[n.data.y0||n.y]}}}},function(e){return r.a.createElement(v.a,null,e.sort(function(e,t){return Number(i.includes(e.data.target.data.id))-Number(i.includes(t.data.target.data.id))}).map(function(e){var t=e.key,d=e.data,l=e.state;return r.a.createElement(j,{data:l,linkType:n,layout:a,orientation:o,stepPercent:c,stroke:i.some(function(e){return d.source.data.id===e})&&i.some(function(e){return d.target.data.id===e})?"#26deb0":"#374469",strokeWidth:"1",fill:"none",key:t})}))})},z=n(40),R=n.n(z),W=20,L=15,S=function(e){var t=e.node,n=(e.onNodeClick,e.onNodeDoubleClick,e.onNodeHover,e.onNodeMouseEnter,e.onNodeMouseLeave,e.children),o=e.operations,c=Object(a.useState)(void 0),i=Object(p.a)(c,2),d=i[0],l=i[1],u=d&&d.x||20,s=d&&d.y||20,h=Object(a.useRef)(null);Object(a.useLayoutEffect)(function(){if(h.current){var e=h.current.getBoundingClientRect();l({x:e.width+W,y:e.height+L}),t.data.renderWidth=e.width+W,t.data.renderHeight=e.height+L}},[h]);var f=r.a.useMemo(function(){return{onNodeClick:e.onNodeClick||function(e,t,n){e.stopPropagation(),n.expandNode(t)},onNodeDoubleClick:e.onNodeDoubleClick||function(e,t,n){e.stopPropagation(),console.log("onNodeDoubleClick undefined")},onNodeHover:e.onNodeHover||function(e,t,n){},onNodeMouseEnter:e.onNodeMouseEnter||function(e,t,n){},onNodeMouseLeave:e.onNodeMouseLeave||function(e,t,n){}}},[e.onNodeClick,e.onNodeDoubleClick,e.onNodeHover,o]);return r.a.createElement(a.Fragment,null,0===t.depth&&r.a.createElement("circle",{r:u/2,fill:"#ffffff",stroke:t.data.children&&t.data.children.length>0?"#00ffd8":"#26deb0",onClick:function(e){return f.onNodeClick&&f.onNodeClick(e,t,o)},onDoubleClick:function(e){return f.onNodeDoubleClick&&f.onNodeDoubleClick(e,t,o)},onMouseMove:function(e){return f.onNodeHover&&f.onNodeHover(e,t,o)},onMouseEnter:function(e){return f.onNodeMouseEnter&&f.onNodeMouseEnter(e,t,o)},onMouseLeave:function(e){return f.onNodeMouseLeave&&f.onNodeMouseLeave(e,t,o)}}),0!==t.depth&&r.a.createElement("rect",{height:s,width:u,y:-s/2,x:-u/2,fill:t.data.selected?" #ffffff":"#272b4d",stroke:t.data.children?"#03c0dc":"#26deb0",strokeWidth:t.data.selected?1.25:1,strokeDasharray:t.data.children&&t.data.children.length>0?"0":"2,2",strokeOpacity:t.data.children&&t.data.children.length>0?1:.6,rx:t.data.children&&t.data.children.length>0?0:10,onClick:function(e){return f.onNodeClick&&f.onNodeClick(e,t,o)},onDoubleClick:function(e){return f.onNodeDoubleClick&&f.onNodeDoubleClick(e,t,o)},onMouseMove:function(e){return f.onNodeHover&&f.onNodeHover(e,t,o)},onMouseEnter:function(e){return f.onNodeMouseEnter&&f.onNodeMouseEnter(e,t,o)},onMouseLeave:function(e){return f.onNodeMouseLeave&&f.onNodeMouseLeave(e,t,o)}}),n&&n(t,o),r.a.createElement("text",{dy:".33em",fontSize:9,fontFamily:"Arial",textAnchor:"middle",style:{pointerEvents:"none"},ref:h,fill:0===t.depth?"#71248e":t.children&&t.children.length>0?t.data.selected?"#71248e":"white":"#26deb0"},t.data.name))},P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).prioritizedData=void 0,n.renderRects=void 0,n.compareRects=function(){var e=n.props.nodes.map(function(e){return{x:e.data.renderWidth,y:e.data.renderHeight}});if(n.renderRects&&n.renderRects!==e){for(var t=0;t<n.renderRects.length;t++)if(n.renderRects[t].x!==e[t].x||n.renderRects[t].y!==e[t].y)return n.prioritizedData=Object(f.a)(n.props.nodes),void n.forceUpdate();n.prioritizedData=void 0}},n}return Object(s.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.compareRects()}},{key:"componentDidUpdate",value:function(e){e.nodes&&this.compareRects()}},{key:"render",value:function(){var e=this,t=this.props,n=t.nodes,a=t.layout,o=t.orientation,c=(t.onNodeClick,t.operations),i=t.nodeChildren;return this.renderRects=n.map(function(e){return{x:e.data.renderWidth,y:e.data.renderHeight}}),r.a.createElement(R.a,{data:this.prioritizedData||n,keyAccessor:function(e){return e.data.id},start:function(e){var t=D(e.parent||{x:0,y:0},a,o);return{top:t.top,left:t.left,opacity:0}},enter:function(e){var t=D(e,a,o);return{top:[t.top],left:[t.left],opacity:[1]}},update:function(e){var t=D(e,a,o);return{top:[t.top],left:[t.left],opacity:[1]}},leave:function(e){e.parent||alert("alert bug node parent is null");var t=C(e.parent),n=Object(h.a)({},t,{x:t.data.x0||t.x,y:t.data.y0||t.y}),r=D(n,a,o);return{top:[r.top],left:[r.left],opacity:[0]}}},function(t){return r.a.createElement(v.a,null,t.sort(function(e,t){return Number(e.data.data.selected||0)-Number(t.data.data.selected||0)}).map(function(t){var n=t.key,a=t.data,o=t.state;return r.a.createElement(v.a,{top:o.top,left:o.left,key:n,opacity:o.opacity},r.a.createElement(S,Object.assign({operations:c,node:a,key:n,children:i},e.props)))}))})}}]),t}(a.Component),A=n(29),F=n.n(A),I=function(e){var t=e.data,n=e.width,r=e.height,o=e.margin,c=void 0===o?{top:24,left:24,right:24,bottom:24}:o,i=e.onCanvasClick,d=e.onCanvasDoubleClick,l=e.onCanvasHover,u=e.onCanvasMouseEnter,s=e.onCanvasMouseLeave,b=e.nodeChildren,x=a.useState("cartesian"),E=Object(p.a)(x,2),k=E[0],N=E[1],M=a.useState("horizontal"),w=Object(p.a)(M,2),j=w[0],O=w[1],C=a.useState("diagonal"),D=Object(p.a)(C,2),z=D[0],R=D[1],W=a.useState(.5),L=Object(p.a)(W,2),S=L[0],A=L[1],I=a.useState(!1),B=Object(p.a)(I,2),T=(B[0],B[1]),q=a.useMemo(function(){return[n,r-28]},[n,r]),V=Object(p.a)(q,2),J=V[0],U=V[1],$=a.useMemo(function(){return[J-c.left-c.right,U-c.top-c.bottom]},[J,U,c]),_=Object(p.a)($,2),G=_[0],K=_[1],Q=a.useMemo(function(){var e,t,n;return"polar"===k?(e={x:G/2+24,y:K/2+24},t=2*Math.PI,n=Math.min(G,K)/2):"vertical"===j?(e={x:c.top,y:c.right},t=G,n=K):(e={x:c.left,y:c.top},t=K,n=G),{origin:e,sizeWidth:t,sizeHeight:n}},[k,G,K,j]),X=Q.origin,Y=Q.sizeWidth,Z=Q.sizeHeight,ee=Object(g.b)(t,function(e){return e.isExpanded?e.children:null}),te=[],ne=ee.descendants().find(function(e){return e.data.selected});ne&&(te=function(e){var t=[];return e.ancestors().forEach(function(e){return t.push(e.data.id)}),t}(ne));var ae=function(){T(function(e){return!e})},re=a.useMemo(function(){return{addNode:e.addNode||function(e){return e.data.children=[].concat(Object(f.a)(e.data.children||[]),[{name:"".concat(e.data.name,".").concat(e.data.children&&e.data.children.length||0),id:F.a.generate()}]),e.data.isExpanded=!0,ae(),e},removeNode:e.removeNode||function(e){var t=e.parent;if(!t||!t.data.children)throw"Expected defined parent with defined children but got ".concat(t);return t.data.children=t.data.children.filter(function(t){return t.name!==e.data.name}),t.children=t.children.filter(function(t){return t.data.name!==e.data.name}),t},expandNode:e.expandNode||function(e){return e.data.isExpanded||(e.data.x0=e.x,e.data.y0=e.y),e.data.isExpanded=!e.data.isExpanded,ae(),e},collapseAll:e.collapseAll||function(e){return ee.descendants().forEach(function(t){t.data.isExpanded=void 0!==e&&!e(t)}),ee},expandAll:e.expandAll||function(e){var n=Object(g.b)(t);return n.descendants().forEach(function(t){t.data.isExpanded=void 0===e||e(t)}),n}}},[Object(h.a)({},e)]);return a.createElement("div",null,a.createElement("div",null,a.createElement("label",null,"layout:"),a.createElement("select",{onChange:function(e){return N(e.target.value)},value:k},a.createElement("option",{value:"cartesian"},"cartesian"),a.createElement("option",{value:"polar"},"polar")),a.createElement("label",null,"orientation:"),a.createElement("select",{onChange:function(e){return O(e.target.value)},value:j,disabled:"polar"===k},a.createElement("option",{value:"vertical"},"vertical"),a.createElement("option",{value:"horizontal"},"horizontal")),a.createElement("label",null,"link:"),a.createElement("select",{onChange:function(e){return R(e.target.value)},value:z},a.createElement("option",{value:"diagonal"},"diagonal"),a.createElement("option",{value:"step"},"step"),a.createElement("option",{value:"curve"},"curve"),a.createElement("option",{value:"line"},"line"),a.createElement("option",{value:"elbow"},"elbow")),a.createElement("label",null,"step:"),a.createElement("input",{type:"range",min:0,max:1,step:.1,onChange:function(e){return A(Number(e.target.value))},value:S,disabled:"step"!==z||"polar"===k})),a.createElement("svg",{width:J,height:U},a.createElement(y.a,{id:"lg",from:"#fd9b93",to:"#fe6e9e"}),a.createElement("rect",{width:J,height:U,rx:14,fill:"#272b4d",onClick:function(e){return i&&i(e,re)},onDoubleClick:function(e){return d&&d(e,re)},onMouseMove:function(e){return l&&l(e,re)},onMouseEnter:function(e){return u&&u(e,re)},onMouseLeave:function(e){return s&&s(e,re)}}),a.createElement(m.a,{top:X.y,left:X.x,root:ee,size:[Y,Z],separation:function(e,t){return(e.parent==t.parent?1:.5)/e.depth}},function(t){return a.createElement(v.a,{top:X.y,left:X.x},a.createElement(H,{links:t.links(),linkType:z,layout:k,orientation:j,stepPercent:S,selectedRoute:te}),a.createElement(P,Object.assign({nodes:t.descendants(),layout:k,orientation:j,operations:re,nodeChildren:b},e)))})))},B=n(83),T=n(82),q=n(43),V=Object(B.a)({rootDiv:{backgroundColor:"cyan",height:"800px",width:"800px",alignItems:"center",resize:"both",overflow:"auto",margin:"24px"}}),J=Object(T.a)(V)(function(e){var t=a.useState(0),n=Object(p.a)(t,2),r=n[0],o=n[1],c=a.useState(0),i=Object(p.a)(c,2),d=i[0],l=i[1];return a.createElement(q.a,{bounds:!0,onResize:function(e){e.bounds&&(o(e.bounds.width),l(e.bounds.height))}},function(t){var n=t.measureRef;return a.createElement("div",{ref:n,className:e.classes.rootDiv},a.createElement(I,Object.assign({},e,{width:r-20,height:d-20})))})}),U=n(22),$=function(){var e=Object(U.b)({r:12.5,from:{r:0}}),t=Object(U.b)({width:17,height:17,x:4,y:4,from:{width:0,height:0,x:12.5,y:12.5}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a.circle,{r:e.r,fill:"cyan",cx:"12.5",cy:"12.5"}),r.a.createElement(U.a.svg,Object.assign({fill:"indigo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},t),r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))},_=function(){var e=Object(U.b)({r:12.5,from:{r:0}}),t=Object(U.b)({width:17,height:17,x:4,y:4,from:{width:0,height:0,x:12.5,y:12.5}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a.circle,{r:e.r,fill:"cyan",cx:"12.5",cy:"12.5"}),r.a.createElement(U.a.svg,Object.assign({fill:"red",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},t),r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))},G=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).generateData=function(e,t){var a=[n.state.data];alert("will generate "+t.toString()+" nodes");for(var r=0;a.length<t;r++)for(var o=a[r],c=0;c<e;c++)o.children=o.children||[],o.children[c]={id:F.a.generate(),name:"".concat(o.name,".").concat(o.children&&o.children.length||0)},a.push(o.children[c])},n.state=void 0,n.state={data:{name:"root",id:F.a.generate()},selected:null};return n.generateData(3,Math.pow(4,6)),n}return Object(s.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.props;return r.a.createElement(J,{data:this.state.data,width:600,height:500,onNodeClick:function(t,n,a){e.state.selected&&(e.state.selected.data.selected=!1),n.data.selected=!0;if(a&&a.expandNode){n.ancestors();a.expandNode&&a.expandNode(n)}e.setState({selected:n})},nodeChildren:function(t,n){if(t.data.selected){var a=t.data.renderWidth||0;t.data.renderHeight;return r.a.createElement(r.a.Fragment,null,t.data.selected&&r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{width:"25",height:"25",x:t.depth>0?-a/2-12.5:-12.5,onClick:function(a){a.preventDefault();var r=e.state.selected;r.children=r.children||[],n.addNode&&r.children.push(n.addNode(t))},y:t.depth>0?0:a/2-12.5},r.a.createElement($,null)),t.depth>0&&r.a.createElement("svg",{width:"25",height:"25",x:a/2-12.5,y:0,onClick:function(t){t.preventDefault();var a=e.state.selected;if(n.removeNode&&a){var r=n.removeNode(a);r.data.selected=!0,e.setState({selected:r})}}},r.a.createElement(_,null))))}}})}}]),t}(r.a.Component),K=(n(72),function(){return r.a.createElement(G,null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.f8cf33b8.chunk.js.map